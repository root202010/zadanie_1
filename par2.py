import requests
import pymongo
cookies = {
    '__lhash_': '3a42f966d6918b396c4002bc4066554e',
    'COMPARISON_INDICATOR': 'false',
    'HINTS_FIO_COOKIE_NAME': '2',
    'MVID_AB_SERVICES_DESCRIPTION': 'var2',
    'MVID_ADDRESS_COMMENT_AB_TEST': '2',
    'MVID_BLACK_FRIDAY_ENABLED': 'true',
    'MVID_CALC_BONUS_RUBLES_PROFIT': 'false',
    'MVID_CART_MULTI_DELETE': 'false',
    'MVID_CATALOG_STATE': '1',
    'MVID_CITY_ID': 'CityCZ_1638',
    'MVID_FILTER_CODES': 'true',
    'MVID_FILTER_TOOLTIP': '1',
    'MVID_FLOCKTORY_ON': 'true',
    'MVID_GEOLOCATION_NEEDED': 'true',
    'MVID_GET_LOCATION_BY_DADATA': 'DaData',
    'MVID_GIFT_KIT': 'true',
    'MVID_GTM_DELAY': 'true',
    'MVID_GUEST_ID': '21376285263',
    'MVID_HANDOVER_SUMMARY': 'true',
    'MVID_IS_NEW_BR_WIDGET': 'true',
    'MVID_KLADR_ID': '7800000000000',
    'MVID_LAYOUT_TYPE': '1',
    'MVID_LP_SOLD_VARIANTS': '3',
    'MVID_MCLICK': 'true',
    'MVID_MINI_PDP': 'true',
    'MVID_MOBILE_FILTERS': 'true',
    'MVID_NEW_ACCESSORY': 'true',
    'MVID_NEW_DESKTOP_FILTERS': 'true',
    'MVID_NEW_LK_CHECK_CAPTCHA': 'true',
    'MVID_NEW_LK_OTP_TIMER': 'true',
    'MVID_NEW_MBONUS_BLOCK': 'true',
    'MVID_REGION_ID': '6',
    'MVID_REGION_SHOP': 'S904',
    'MVID_SERVICES': '111',
    'MVID_SERVICES_MINI_BLOCK': 'var2',
    'MVID_TAXI_DELIVERY_INTERVALS_VIEW': 'new',
    'MVID_TIMEZONE_OFFSET': '3',
    'MVID_WEBP_ENABLED': 'true',
    'NEED_REQUIRE_APPLY_DISCOUNT': 'true',
    'PICKUP_SEAMLESS_AB_TEST': '2',
    'PRESELECT_COURIER_DELIVERY_FOR_KBT': 'true',
    'PROMOLISTING_WITHOUT_STOCK_AB_TEST': '2',
    'SENTRY_ERRORS_RATE': '0.1',
    'SENTRY_TRANSACTIONS_RATE': '0.5',
    'flacktory': 'no',
    'searchType2': '3',
    '_ym_uid': '1662212041855600524',
    '_ym_d': '1662212041',
    '__SourceTracker': 'google__organic',
    'admitad_deduplication_cookie': 'google__organic',
    'SMSError': '',
    'authError': '',
    'tmr_lvid': '661ecb1b6480b8a87983995632c3bce6',
    'tmr_lvidTS': '1662212044363',
    'gdeslon.ru.__arc_domain': 'gdeslon.ru',
    'gdeslon.ru.user_id': '0e86ad0a-c5ef-4b87-b4ab-afa1d9d6a165',
    'uxs_uid': '142f2310-2b8d-11ed-a5b2-25f8deca525b',
    'advcake_track_id': '72527ac2-a1a2-026f-ac25-876aac1a5dc3',
    'advcake_session_id': '4655dfe9-de7a-fb51-3bd3-27040f119006',
    'flocktory-uuid': '0e325ee7-49b9-44d9-b471-98e5071c560a-4',
    'afUserId': '2565bae2-7fdc-4a23-a3d2-a3a009a9ae0c-p',
    'BIGipServeratg-ps-prod_tcp80': '1795480586.20480.0000',
    'bIPs': '-1991023829',
    'AF_SYNC': '1662212045816',
    'MVID_CREDIT_AVAILABILITY': 'true',
    'MVID_SMART_BANNER_BOTTOM': 'true',
    '__ttl__widget__ui': '1662212819625-fc9786b16c48',
    'wurfl_device_id': 'generic_web_browser',
    'MVID_NEW_OLD': 'eyJjYXJ0IjpmYWxzZSwiZmF2b3JpdGUiOnRydWUsImNvbXBhcmlzb24iOnRydWV9',
    'MVID_OLD_NEW': 'eyJjb21wYXJpc29uIjogdHJ1ZSwgImZhdm9yaXRlIjogdHJ1ZSwgImNhcnQiOiB0cnVlfQ==',
    'BIGipServeratg-ps-prod_tcp80_clone': '1795480586.20480.0000',
    'MVID_GTM_BROWSER_THEME': '1',
    'deviceType': 'desktop',
    'mindboxDeviceUUID': '932eb81e-8cf8-4fff-b430-be0ead646c60',
    'directCrm-session': '%7B%22deviceGuid%22%3A%22932eb81e-8cf8-4fff-b430-be0ead646c60%22%7D',
    'JSESSIONID': 'r2R7jWvQ0JYZJhpTPz2JyXRCZmgZ7Mv0rkpQhgNS65l2MD7Yn6Pn!-640615107',
    '_gid': 'GA1.2.1603714843.1662394950',
    '_sp_ses.d61c': '*',
    '_ym_isad': '2',
    '_sp_id.d61c': 'b8fbffa0-3440-4212-a305-c802739a0978.1662212042.5.1662394956.1662286468.36f04168-cc5a-4226-8bf4-c8f80b4c4506.23d52ea1-ac6c-4da9-bdad-dc7ff04cffde.f56418bb-fb3f-445b-9a63-c4a2725e8fe5.1662394950208.2',
    '_ga': 'GA1.2.826414565.1662212041',
    'tmr_detect': '0%7C1662394959640',
    '_dc_gtm_UA-1873769-1': '1',
    '_dc_gtm_UA-1873769-37': '1',
    'gssc218': '',
    'gsscgib-w-mvideo': 'UqOl6KZBsC+LvvMywka9VF23+JKhabuA3ABBsuq4NDD1JYnbZ6c7ob0Fb55Ks0OdGzahUcWj9CU9VYenZHz2uubwgsOJk3n4c0bQWp39bUlBVigc0pSabDSuCPiAFNKMXI0DX3uql7Y0dJYbRSh742Bsuto/0AyClmPGdsJPy392Z/FcJ37lHPtsfeVTqNfSYvbRMDJiLUYVV/T7gGlx46Bw7K4WQ1mXaZAkNlNvutEgt7q3N/IPdGNOS6AnQowzisgqZCM=',
    'gsscgib-w-mvideo': 'UqOl6KZBsC+LvvMywka9VF23+JKhabuA3ABBsuq4NDD1JYnbZ6c7ob0Fb55Ks0OdGzahUcWj9CU9VYenZHz2uubwgsOJk3n4c0bQWp39bUlBVigc0pSabDSuCPiAFNKMXI0DX3uql7Y0dJYbRSh742Bsuto/0AyClmPGdsJPy392Z/FcJ37lHPtsfeVTqNfSYvbRMDJiLUYVV/T7gGlx46Bw7K4WQ1mXaZAkNlNvutEgt7q3N/IPdGNOS6AnQowzisgqZCM=',
    '__hash_': '5a5f24ebed81f3cf785f1673114ef3dd',
    '_ga_CFMZTSS5FM': 'GS1.1.1662394944.7.1.1662395273.0.0.0',
    '_ga_BNX5WPP3YK': 'GS1.1.1662394944.7.1.1662395273.60.0.0',
    '__zzatgib-w-mvideo': 'MDA0dC0cTApcfEJcdGswPi17CT4VHThHKHIzd2VrPQ8kIW4nQENvdis/UVEjE21RIVQLX1QfOGBlbDotRyNaC3YNOEM8F3wvJWwbEgx7RxU5GjhrIV9NWiREVVRqJh8XeW4sUxAPXz1Ib2UlLS1SKRIaYg9HV0VnXkZzXWcQREBNR0JzeSs+biJhTl4oSVdJa2xSVTd+YhZCRBgvSzk9bnBhDysYIVQ1Xz9BYUpKPTdYH0t1MBI=TP2Hjw==',
    '__zzatgib-w-mvideo': 'MDA0dC0cTApcfEJcdGswPi17CT4VHThHKHIzd2VrPQ8kIW4nQENvdis/UVEjE21RIVQLX1QfOGBlbDotRyNaC3YNOEM8F3wvJWwbEgx7RxU5GjhrIV9NWiREVVRqJh8XeW4sUxAPXz1Ib2UlLS1SKRIaYg9HV0VnXkZzXWcQREBNR0JzeSs+biJhTl4oSVdJa2xSVTd+YhZCRBgvSzk9bnBhDysYIVQ1Xz9BYUpKPTdYH0t1MBI=TP2Hjw==',
    'cfidsgib-w-mvideo': 'Epj2y3m/bgvn7g7daU/L63YGm+cVAn9Nn2qAIy4iJ/iR1bQd2vD0tUnS9/cGj2z8kCYw2k/YGCAFJhtw71YcNgKvuvvSQ3pzskzzJIzutyl12ZhLHGBL1251ych6cElbYtjf12kxxiZCsSZaPoBUyHz+dO9lJLCpXFCewA==',
    'cfidsgib-w-mvideo': 'Epj2y3m/bgvn7g7daU/L63YGm+cVAn9Nn2qAIy4iJ/iR1bQd2vD0tUnS9/cGj2z8kCYw2k/YGCAFJhtw71YcNgKvuvvSQ3pzskzzJIzutyl12ZhLHGBL1251ych6cElbYtjf12kxxiZCsSZaPoBUyHz+dO9lJLCpXFCewA==',
    'fgsscgib-w-mvideo': '9jQf407498a7fff82c2276cf9289963af03b4ea8',
    'fgsscgib-w-mvideo': '9jQf407498a7fff82c2276cf9289963af03b4ea8',
    'CACHE_INDICATOR': 'false',
    'MVID_CART_AVAILABILITY': 'true',
    'MVID_MINDBOX_DYNAMICALLY': 'true',
    'MVID_PROMO_CATALOG_ON': 'true',
    'MVID_ENVCLOUD': 'prod1',
    'cfidsgib-w-mvideo': 't4dg49cGwBhjQx927feaaPggJDn0D7VdomRO44DUWAY74Wv87KsMJcI4pjEpDsnM9ELgQMSRgwD3BTNTanbWpY0Tf0swb0sLbsC08suTSgdxrUa9Qdl5hxwY+7b7fMFHbTCExv5bGYwLEuQ8HKr5UikFauUKTzBvlpWIEg==',
    'tmr_reqNum': '282',
}

headers = {
    'authority': 'www.mvideo.ru',
    'accept': 'application/json',
    'accept-language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7',
    'cache-control': 'no-cache',
    # Already added when you pass json=
    # 'content-type': 'application/json',
    # Requests sorts cookies= alphabetically
    # 'cookie': '__lhash_=3a42f966d6918b396c4002bc4066554e; COMPARISON_INDICATOR=false; HINTS_FIO_COOKIE_NAME=2; MVID_AB_SERVICES_DESCRIPTION=var2; MVID_ADDRESS_COMMENT_AB_TEST=2; MVID_BLACK_FRIDAY_ENABLED=true; MVID_CALC_BONUS_RUBLES_PROFIT=false; MVID_CART_MULTI_DELETE=false; MVID_CATALOG_STATE=1; MVID_CITY_ID=CityCZ_1638; MVID_FILTER_CODES=true; MVID_FILTER_TOOLTIP=1; MVID_FLOCKTORY_ON=true; MVID_GEOLOCATION_NEEDED=true; MVID_GET_LOCATION_BY_DADATA=DaData; MVID_GIFT_KIT=true; MVID_GTM_DELAY=true; MVID_GUEST_ID=21376285263; MVID_HANDOVER_SUMMARY=true; MVID_IS_NEW_BR_WIDGET=true; MVID_KLADR_ID=7800000000000; MVID_LAYOUT_TYPE=1; MVID_LP_SOLD_VARIANTS=3; MVID_MCLICK=true; MVID_MINI_PDP=true; MVID_MOBILE_FILTERS=true; MVID_NEW_ACCESSORY=true; MVID_NEW_DESKTOP_FILTERS=true; MVID_NEW_LK_CHECK_CAPTCHA=true; MVID_NEW_LK_OTP_TIMER=true; MVID_NEW_MBONUS_BLOCK=true; MVID_REGION_ID=6; MVID_REGION_SHOP=S904; MVID_SERVICES=111; MVID_SERVICES_MINI_BLOCK=var2; MVID_TAXI_DELIVERY_INTERVALS_VIEW=new; MVID_TIMEZONE_OFFSET=3; MVID_WEBP_ENABLED=true; NEED_REQUIRE_APPLY_DISCOUNT=true; PICKUP_SEAMLESS_AB_TEST=2; PRESELECT_COURIER_DELIVERY_FOR_KBT=true; PROMOLISTING_WITHOUT_STOCK_AB_TEST=2; SENTRY_ERRORS_RATE=0.1; SENTRY_TRANSACTIONS_RATE=0.5; flacktory=no; searchType2=3; _ym_uid=1662212041855600524; _ym_d=1662212041; __SourceTracker=google__organic; admitad_deduplication_cookie=google__organic; SMSError=; authError=; tmr_lvid=661ecb1b6480b8a87983995632c3bce6; tmr_lvidTS=1662212044363; gdeslon.ru.__arc_domain=gdeslon.ru; gdeslon.ru.user_id=0e86ad0a-c5ef-4b87-b4ab-afa1d9d6a165; uxs_uid=142f2310-2b8d-11ed-a5b2-25f8deca525b; advcake_track_id=72527ac2-a1a2-026f-ac25-876aac1a5dc3; advcake_session_id=4655dfe9-de7a-fb51-3bd3-27040f119006; flocktory-uuid=0e325ee7-49b9-44d9-b471-98e5071c560a-4; afUserId=2565bae2-7fdc-4a23-a3d2-a3a009a9ae0c-p; BIGipServeratg-ps-prod_tcp80=1795480586.20480.0000; bIPs=-1991023829; AF_SYNC=1662212045816; MVID_CREDIT_AVAILABILITY=true; MVID_SMART_BANNER_BOTTOM=true; __ttl__widget__ui=1662212819625-fc9786b16c48; wurfl_device_id=generic_web_browser; MVID_NEW_OLD=eyJjYXJ0IjpmYWxzZSwiZmF2b3JpdGUiOnRydWUsImNvbXBhcmlzb24iOnRydWV9; MVID_OLD_NEW=eyJjb21wYXJpc29uIjogdHJ1ZSwgImZhdm9yaXRlIjogdHJ1ZSwgImNhcnQiOiB0cnVlfQ==; BIGipServeratg-ps-prod_tcp80_clone=1795480586.20480.0000; MVID_GTM_BROWSER_THEME=1; deviceType=desktop; mindboxDeviceUUID=932eb81e-8cf8-4fff-b430-be0ead646c60; directCrm-session=%7B%22deviceGuid%22%3A%22932eb81e-8cf8-4fff-b430-be0ead646c60%22%7D; JSESSIONID=r2R7jWvQ0JYZJhpTPz2JyXRCZmgZ7Mv0rkpQhgNS65l2MD7Yn6Pn!-640615107; _gid=GA1.2.1603714843.1662394950; _sp_ses.d61c=*; _ym_isad=2; _sp_id.d61c=b8fbffa0-3440-4212-a305-c802739a0978.1662212042.5.1662394956.1662286468.36f04168-cc5a-4226-8bf4-c8f80b4c4506.23d52ea1-ac6c-4da9-bdad-dc7ff04cffde.f56418bb-fb3f-445b-9a63-c4a2725e8fe5.1662394950208.2; _ga=GA1.2.826414565.1662212041; tmr_detect=0%7C1662394959640; _dc_gtm_UA-1873769-1=1; _dc_gtm_UA-1873769-37=1; gssc218=; gsscgib-w-mvideo=UqOl6KZBsC+LvvMywka9VF23+JKhabuA3ABBsuq4NDD1JYnbZ6c7ob0Fb55Ks0OdGzahUcWj9CU9VYenZHz2uubwgsOJk3n4c0bQWp39bUlBVigc0pSabDSuCPiAFNKMXI0DX3uql7Y0dJYbRSh742Bsuto/0AyClmPGdsJPy392Z/FcJ37lHPtsfeVTqNfSYvbRMDJiLUYVV/T7gGlx46Bw7K4WQ1mXaZAkNlNvutEgt7q3N/IPdGNOS6AnQowzisgqZCM=; gsscgib-w-mvideo=UqOl6KZBsC+LvvMywka9VF23+JKhabuA3ABBsuq4NDD1JYnbZ6c7ob0Fb55Ks0OdGzahUcWj9CU9VYenZHz2uubwgsOJk3n4c0bQWp39bUlBVigc0pSabDSuCPiAFNKMXI0DX3uql7Y0dJYbRSh742Bsuto/0AyClmPGdsJPy392Z/FcJ37lHPtsfeVTqNfSYvbRMDJiLUYVV/T7gGlx46Bw7K4WQ1mXaZAkNlNvutEgt7q3N/IPdGNOS6AnQowzisgqZCM=; __hash_=5a5f24ebed81f3cf785f1673114ef3dd; _ga_CFMZTSS5FM=GS1.1.1662394944.7.1.1662395273.0.0.0; _ga_BNX5WPP3YK=GS1.1.1662394944.7.1.1662395273.60.0.0; __zzatgib-w-mvideo=MDA0dC0cTApcfEJcdGswPi17CT4VHThHKHIzd2VrPQ8kIW4nQENvdis/UVEjE21RIVQLX1QfOGBlbDotRyNaC3YNOEM8F3wvJWwbEgx7RxU5GjhrIV9NWiREVVRqJh8XeW4sUxAPXz1Ib2UlLS1SKRIaYg9HV0VnXkZzXWcQREBNR0JzeSs+biJhTl4oSVdJa2xSVTd+YhZCRBgvSzk9bnBhDysYIVQ1Xz9BYUpKPTdYH0t1MBI=TP2Hjw==; __zzatgib-w-mvideo=MDA0dC0cTApcfEJcdGswPi17CT4VHThHKHIzd2VrPQ8kIW4nQENvdis/UVEjE21RIVQLX1QfOGBlbDotRyNaC3YNOEM8F3wvJWwbEgx7RxU5GjhrIV9NWiREVVRqJh8XeW4sUxAPXz1Ib2UlLS1SKRIaYg9HV0VnXkZzXWcQREBNR0JzeSs+biJhTl4oSVdJa2xSVTd+YhZCRBgvSzk9bnBhDysYIVQ1Xz9BYUpKPTdYH0t1MBI=TP2Hjw==; cfidsgib-w-mvideo=Epj2y3m/bgvn7g7daU/L63YGm+cVAn9Nn2qAIy4iJ/iR1bQd2vD0tUnS9/cGj2z8kCYw2k/YGCAFJhtw71YcNgKvuvvSQ3pzskzzJIzutyl12ZhLHGBL1251ych6cElbYtjf12kxxiZCsSZaPoBUyHz+dO9lJLCpXFCewA==; cfidsgib-w-mvideo=Epj2y3m/bgvn7g7daU/L63YGm+cVAn9Nn2qAIy4iJ/iR1bQd2vD0tUnS9/cGj2z8kCYw2k/YGCAFJhtw71YcNgKvuvvSQ3pzskzzJIzutyl12ZhLHGBL1251ych6cElbYtjf12kxxiZCsSZaPoBUyHz+dO9lJLCpXFCewA==; fgsscgib-w-mvideo=9jQf407498a7fff82c2276cf9289963af03b4ea8; fgsscgib-w-mvideo=9jQf407498a7fff82c2276cf9289963af03b4ea8; CACHE_INDICATOR=false; MVID_CART_AVAILABILITY=true; MVID_MINDBOX_DYNAMICALLY=true; MVID_PROMO_CATALOG_ON=true; MVID_ENVCLOUD=prod1; cfidsgib-w-mvideo=t4dg49cGwBhjQx927feaaPggJDn0D7VdomRO44DUWAY74Wv87KsMJcI4pjEpDsnM9ELgQMSRgwD3BTNTanbWpY0Tf0swb0sLbsC08suTSgdxrUa9Qdl5hxwY+7b7fMFHbTCExv5bGYwLEuQ8HKr5UikFauUKTzBvlpWIEg==; tmr_reqNum=282',
    'origin': 'https://www.mvideo.ru',
    'pragma': 'no-cache',
    'referer': 'https://www.mvideo.ru/noutbuki-planshety-komputery-8/noutbuki-118',
    'sec-ch-ua': '"Google Chrome";v="105", "Not)A;Brand";v="8", "Chromium";v="105"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"Windows"',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-origin',
    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36',
    'x-set-application-id': 'db81f94b-36f3-4e1d-baa1-8e72071bdda6',
}

json_data = {
    'productIds': [
        '30063388',
        '30063385',
        '30063680',
        '30063389',
        '30062325',
        '30061223',
        '30061113',
        '30063455',
        '30062106',
        '30062868',
        '30063860',
        '30063387',
        '30063386',
        '30062055',
        '30063862',
        '30056685',
        '30056686',
        '30056687',
        '30062056',
        '30059533',
        '30063187',
        '30061244',
        '30062804',
        '30057478',
    ],
    'mediaTypes': [
        'images',
    ],
    'category': True,
    'status': True,
    'brand': True,
    'propertyTypes': [
        'KEY',
    ],
    'propertiesConfig': {
        'propertiesPortionSize': 5,
    },
    'multioffer': False,
}
cookies = {
    '__lhash_': '3a42f966d6918b396c4002bc4066554e',
    'COMPARISON_INDICATOR': 'false',
    'HINTS_FIO_COOKIE_NAME': '2',
    'MVID_AB_SERVICES_DESCRIPTION': 'var2',
    'MVID_ADDRESS_COMMENT_AB_TEST': '2',
    'MVID_BLACK_FRIDAY_ENABLED': 'true',
    'MVID_CALC_BONUS_RUBLES_PROFIT': 'false',
    'MVID_CART_MULTI_DELETE': 'false',
    'MVID_CATALOG_STATE': '1',
    'MVID_CITY_ID': 'CityCZ_1638',
    'MVID_FILTER_CODES': 'true',
    'MVID_FILTER_TOOLTIP': '1',
    'MVID_FLOCKTORY_ON': 'true',
    'MVID_GEOLOCATION_NEEDED': 'true',
    'MVID_GET_LOCATION_BY_DADATA': 'DaData',
    'MVID_GIFT_KIT': 'true',
    'MVID_GTM_DELAY': 'true',
    'MVID_GUEST_ID': '21376285263',
    'MVID_HANDOVER_SUMMARY': 'true',
    'MVID_IS_NEW_BR_WIDGET': 'true',
    'MVID_KLADR_ID': '7800000000000',
    'MVID_LAYOUT_TYPE': '1',
    'MVID_LP_SOLD_VARIANTS': '3',
    'MVID_MCLICK': 'true',
    'MVID_MINI_PDP': 'true',
    'MVID_MOBILE_FILTERS': 'true',
    'MVID_NEW_ACCESSORY': 'true',
    'MVID_NEW_DESKTOP_FILTERS': 'true',
    'MVID_NEW_LK_CHECK_CAPTCHA': 'true',
    'MVID_NEW_LK_OTP_TIMER': 'true',
    'MVID_NEW_MBONUS_BLOCK': 'true',
    'MVID_REGION_ID': '6',
    'MVID_REGION_SHOP': 'S904',
    'MVID_SERVICES': '111',
    'MVID_SERVICES_MINI_BLOCK': 'var2',
    'MVID_TAXI_DELIVERY_INTERVALS_VIEW': 'new',
    'MVID_TIMEZONE_OFFSET': '3',
    'MVID_WEBP_ENABLED': 'true',
    'NEED_REQUIRE_APPLY_DISCOUNT': 'true',
    'PICKUP_SEAMLESS_AB_TEST': '2',
    'PRESELECT_COURIER_DELIVERY_FOR_KBT': 'true',
    'PROMOLISTING_WITHOUT_STOCK_AB_TEST': '2',
    'SENTRY_ERRORS_RATE': '0.1',
    'SENTRY_TRANSACTIONS_RATE': '0.5',
    'flacktory': 'no',
    'searchType2': '3',
    '_ym_uid': '1662212041855600524',
    '_ym_d': '1662212041',
    '__SourceTracker': 'google__organic',
    'admitad_deduplication_cookie': 'google__organic',
    'SMSError': '',
    'authError': '',
    'tmr_lvid': '661ecb1b6480b8a87983995632c3bce6',
    'tmr_lvidTS': '1662212044363',
    'gdeslon.ru.__arc_domain': 'gdeslon.ru',
    'gdeslon.ru.user_id': '0e86ad0a-c5ef-4b87-b4ab-afa1d9d6a165',
    'uxs_uid': '142f2310-2b8d-11ed-a5b2-25f8deca525b',
    'advcake_track_id': '72527ac2-a1a2-026f-ac25-876aac1a5dc3',
    'advcake_session_id': '4655dfe9-de7a-fb51-3bd3-27040f119006',
    'flocktory-uuid': '0e325ee7-49b9-44d9-b471-98e5071c560a-4',
    'afUserId': '2565bae2-7fdc-4a23-a3d2-a3a009a9ae0c-p',
    'BIGipServeratg-ps-prod_tcp80': '1795480586.20480.0000',
    'bIPs': '-1991023829',
    'AF_SYNC': '1662212045816',
    'MVID_CREDIT_AVAILABILITY': 'true',
    'MVID_SMART_BANNER_BOTTOM': 'true',
    '__ttl__widget__ui': '1662212819625-fc9786b16c48',
    'wurfl_device_id': 'generic_web_browser',
    'MVID_NEW_OLD': 'eyJjYXJ0IjpmYWxzZSwiZmF2b3JpdGUiOnRydWUsImNvbXBhcmlzb24iOnRydWV9',
    'MVID_OLD_NEW': 'eyJjb21wYXJpc29uIjogdHJ1ZSwgImZhdm9yaXRlIjogdHJ1ZSwgImNhcnQiOiB0cnVlfQ==',
    'BIGipServeratg-ps-prod_tcp80_clone': '1795480586.20480.0000',
    'MVID_GTM_BROWSER_THEME': '1',
    'deviceType': 'desktop',
    'mindboxDeviceUUID': '932eb81e-8cf8-4fff-b430-be0ead646c60',
    'directCrm-session': '%7B%22deviceGuid%22%3A%22932eb81e-8cf8-4fff-b430-be0ead646c60%22%7D',
    'JSESSIONID': 'r2R7jWvQ0JYZJhpTPz2JyXRCZmgZ7Mv0rkpQhgNS65l2MD7Yn6Pn!-640615107',
    '_gid': 'GA1.2.1603714843.1662394950',
    '_sp_ses.d61c': '*',
    '_ym_isad': '2',
    '_sp_id.d61c': 'b8fbffa0-3440-4212-a305-c802739a0978.1662212042.5.1662394956.1662286468.36f04168-cc5a-4226-8bf4-c8f80b4c4506.23d52ea1-ac6c-4da9-bdad-dc7ff04cffde.f56418bb-fb3f-445b-9a63-c4a2725e8fe5.1662394950208.2',
    '_ga': 'GA1.2.826414565.1662212041',
    'tmr_detect': '0%7C1662394959640',
    '_dc_gtm_UA-1873769-1': '1',
    '_dc_gtm_UA-1873769-37': '1',
    'gssc218': '',
    'gsscgib-w-mvideo': 'UqOl6KZBsC+LvvMywka9VF23+JKhabuA3ABBsuq4NDD1JYnbZ6c7ob0Fb55Ks0OdGzahUcWj9CU9VYenZHz2uubwgsOJk3n4c0bQWp39bUlBVigc0pSabDSuCPiAFNKMXI0DX3uql7Y0dJYbRSh742Bsuto/0AyClmPGdsJPy392Z/FcJ37lHPtsfeVTqNfSYvbRMDJiLUYVV/T7gGlx46Bw7K4WQ1mXaZAkNlNvutEgt7q3N/IPdGNOS6AnQowzisgqZCM=',
    'gsscgib-w-mvideo': 'UqOl6KZBsC+LvvMywka9VF23+JKhabuA3ABBsuq4NDD1JYnbZ6c7ob0Fb55Ks0OdGzahUcWj9CU9VYenZHz2uubwgsOJk3n4c0bQWp39bUlBVigc0pSabDSuCPiAFNKMXI0DX3uql7Y0dJYbRSh742Bsuto/0AyClmPGdsJPy392Z/FcJ37lHPtsfeVTqNfSYvbRMDJiLUYVV/T7gGlx46Bw7K4WQ1mXaZAkNlNvutEgt7q3N/IPdGNOS6AnQowzisgqZCM=',
    '__hash_': '5a5f24ebed81f3cf785f1673114ef3dd',
    '_ga_CFMZTSS5FM': 'GS1.1.1662394944.7.1.1662395273.0.0.0',
    '_ga_BNX5WPP3YK': 'GS1.1.1662394944.7.1.1662395273.60.0.0',
    '__zzatgib-w-mvideo': 'MDA0dC0cTApcfEJcdGswPi17CT4VHThHKHIzd2VrPQ8kIW4nQENvdis/UVEjE21RIVQLX1QfOGBlbDotRyNaC3YNOEM8F3wvJWwbEgx7RxU5GjhrIV9NWiREVVRqJh8XeW4sUxAPXz1Ib2UlLS1SKRIaYg9HV0VnXkZzXWcQREBNR0JzeSs+biJhTl4oSVdJa2xSVTd+YhZCRBgvSzk9bnBhDysYIVQ1Xz9BYUpKPTdYH0t1MBI=TP2Hjw==',
    '__zzatgib-w-mvideo': 'MDA0dC0cTApcfEJcdGswPi17CT4VHThHKHIzd2VrPQ8kIW4nQENvdis/UVEjE21RIVQLX1QfOGBlbDotRyNaC3YNOEM8F3wvJWwbEgx7RxU5GjhrIV9NWiREVVRqJh8XeW4sUxAPXz1Ib2UlLS1SKRIaYg9HV0VnXkZzXWcQREBNR0JzeSs+biJhTl4oSVdJa2xSVTd+YhZCRBgvSzk9bnBhDysYIVQ1Xz9BYUpKPTdYH0t1MBI=TP2Hjw==',
    'cfidsgib-w-mvideo': 'Epj2y3m/bgvn7g7daU/L63YGm+cVAn9Nn2qAIy4iJ/iR1bQd2vD0tUnS9/cGj2z8kCYw2k/YGCAFJhtw71YcNgKvuvvSQ3pzskzzJIzutyl12ZhLHGBL1251ych6cElbYtjf12kxxiZCsSZaPoBUyHz+dO9lJLCpXFCewA==',
    'cfidsgib-w-mvideo': 'Epj2y3m/bgvn7g7daU/L63YGm+cVAn9Nn2qAIy4iJ/iR1bQd2vD0tUnS9/cGj2z8kCYw2k/YGCAFJhtw71YcNgKvuvvSQ3pzskzzJIzutyl12ZhLHGBL1251ych6cElbYtjf12kxxiZCsSZaPoBUyHz+dO9lJLCpXFCewA==',
    'fgsscgib-w-mvideo': '9jQf407498a7fff82c2276cf9289963af03b4ea8',
    'fgsscgib-w-mvideo': '9jQf407498a7fff82c2276cf9289963af03b4ea8',
    'CACHE_INDICATOR': 'false',
    'MVID_CART_AVAILABILITY': 'true',
    'MVID_MINDBOX_DYNAMICALLY': 'true',
    'MVID_PROMO_CATALOG_ON': 'true',
    'MVID_ENVCLOUD': 'prod1',
    'cfidsgib-w-mvideo': 't4dg49cGwBhjQx927feaaPggJDn0D7VdomRO44DUWAY74Wv87KsMJcI4pjEpDsnM9ELgQMSRgwD3BTNTanbWpY0Tf0swb0sLbsC08suTSgdxrUa9Qdl5hxwY+7b7fMFHbTCExv5bGYwLEuQ8HKr5UikFauUKTzBvlpWIEg==',
    'tmr_reqNum': '282',
}

headers = {
    'authority': 'www.mvideo.ru',
    'accept': 'application/json',
    'accept-language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7',
    'cache-control': 'no-cache',
    # Requests sorts cookies= alphabetically
    # 'cookie': '__lhash_=3a42f966d6918b396c4002bc4066554e; COMPARISON_INDICATOR=false; HINTS_FIO_COOKIE_NAME=2; MVID_AB_SERVICES_DESCRIPTION=var2; MVID_ADDRESS_COMMENT_AB_TEST=2; MVID_BLACK_FRIDAY_ENABLED=true; MVID_CALC_BONUS_RUBLES_PROFIT=false; MVID_CART_MULTI_DELETE=false; MVID_CATALOG_STATE=1; MVID_CITY_ID=CityCZ_1638; MVID_FILTER_CODES=true; MVID_FILTER_TOOLTIP=1; MVID_FLOCKTORY_ON=true; MVID_GEOLOCATION_NEEDED=true; MVID_GET_LOCATION_BY_DADATA=DaData; MVID_GIFT_KIT=true; MVID_GTM_DELAY=true; MVID_GUEST_ID=21376285263; MVID_HANDOVER_SUMMARY=true; MVID_IS_NEW_BR_WIDGET=true; MVID_KLADR_ID=7800000000000; MVID_LAYOUT_TYPE=1; MVID_LP_SOLD_VARIANTS=3; MVID_MCLICK=true; MVID_MINI_PDP=true; MVID_MOBILE_FILTERS=true; MVID_NEW_ACCESSORY=true; MVID_NEW_DESKTOP_FILTERS=true; MVID_NEW_LK_CHECK_CAPTCHA=true; MVID_NEW_LK_OTP_TIMER=true; MVID_NEW_MBONUS_BLOCK=true; MVID_REGION_ID=6; MVID_REGION_SHOP=S904; MVID_SERVICES=111; MVID_SERVICES_MINI_BLOCK=var2; MVID_TAXI_DELIVERY_INTERVALS_VIEW=new; MVID_TIMEZONE_OFFSET=3; MVID_WEBP_ENABLED=true; NEED_REQUIRE_APPLY_DISCOUNT=true; PICKUP_SEAMLESS_AB_TEST=2; PRESELECT_COURIER_DELIVERY_FOR_KBT=true; PROMOLISTING_WITHOUT_STOCK_AB_TEST=2; SENTRY_ERRORS_RATE=0.1; SENTRY_TRANSACTIONS_RATE=0.5; flacktory=no; searchType2=3; _ym_uid=1662212041855600524; _ym_d=1662212041; __SourceTracker=google__organic; admitad_deduplication_cookie=google__organic; SMSError=; authError=; tmr_lvid=661ecb1b6480b8a87983995632c3bce6; tmr_lvidTS=1662212044363; gdeslon.ru.__arc_domain=gdeslon.ru; gdeslon.ru.user_id=0e86ad0a-c5ef-4b87-b4ab-afa1d9d6a165; uxs_uid=142f2310-2b8d-11ed-a5b2-25f8deca525b; advcake_track_id=72527ac2-a1a2-026f-ac25-876aac1a5dc3; advcake_session_id=4655dfe9-de7a-fb51-3bd3-27040f119006; flocktory-uuid=0e325ee7-49b9-44d9-b471-98e5071c560a-4; afUserId=2565bae2-7fdc-4a23-a3d2-a3a009a9ae0c-p; BIGipServeratg-ps-prod_tcp80=1795480586.20480.0000; bIPs=-1991023829; AF_SYNC=1662212045816; MVID_CREDIT_AVAILABILITY=true; MVID_SMART_BANNER_BOTTOM=true; __ttl__widget__ui=1662212819625-fc9786b16c48; wurfl_device_id=generic_web_browser; MVID_NEW_OLD=eyJjYXJ0IjpmYWxzZSwiZmF2b3JpdGUiOnRydWUsImNvbXBhcmlzb24iOnRydWV9; MVID_OLD_NEW=eyJjb21wYXJpc29uIjogdHJ1ZSwgImZhdm9yaXRlIjogdHJ1ZSwgImNhcnQiOiB0cnVlfQ==; BIGipServeratg-ps-prod_tcp80_clone=1795480586.20480.0000; MVID_GTM_BROWSER_THEME=1; deviceType=desktop; mindboxDeviceUUID=932eb81e-8cf8-4fff-b430-be0ead646c60; directCrm-session=%7B%22deviceGuid%22%3A%22932eb81e-8cf8-4fff-b430-be0ead646c60%22%7D; JSESSIONID=r2R7jWvQ0JYZJhpTPz2JyXRCZmgZ7Mv0rkpQhgNS65l2MD7Yn6Pn!-640615107; _gid=GA1.2.1603714843.1662394950; _sp_ses.d61c=*; _ym_isad=2; _sp_id.d61c=b8fbffa0-3440-4212-a305-c802739a0978.1662212042.5.1662394956.1662286468.36f04168-cc5a-4226-8bf4-c8f80b4c4506.23d52ea1-ac6c-4da9-bdad-dc7ff04cffde.f56418bb-fb3f-445b-9a63-c4a2725e8fe5.1662394950208.2; _ga=GA1.2.826414565.1662212041; tmr_detect=0%7C1662394959640; _dc_gtm_UA-1873769-1=1; _dc_gtm_UA-1873769-37=1; gssc218=; gsscgib-w-mvideo=UqOl6KZBsC+LvvMywka9VF23+JKhabuA3ABBsuq4NDD1JYnbZ6c7ob0Fb55Ks0OdGzahUcWj9CU9VYenZHz2uubwgsOJk3n4c0bQWp39bUlBVigc0pSabDSuCPiAFNKMXI0DX3uql7Y0dJYbRSh742Bsuto/0AyClmPGdsJPy392Z/FcJ37lHPtsfeVTqNfSYvbRMDJiLUYVV/T7gGlx46Bw7K4WQ1mXaZAkNlNvutEgt7q3N/IPdGNOS6AnQowzisgqZCM=; gsscgib-w-mvideo=UqOl6KZBsC+LvvMywka9VF23+JKhabuA3ABBsuq4NDD1JYnbZ6c7ob0Fb55Ks0OdGzahUcWj9CU9VYenZHz2uubwgsOJk3n4c0bQWp39bUlBVigc0pSabDSuCPiAFNKMXI0DX3uql7Y0dJYbRSh742Bsuto/0AyClmPGdsJPy392Z/FcJ37lHPtsfeVTqNfSYvbRMDJiLUYVV/T7gGlx46Bw7K4WQ1mXaZAkNlNvutEgt7q3N/IPdGNOS6AnQowzisgqZCM=; __hash_=5a5f24ebed81f3cf785f1673114ef3dd; _ga_CFMZTSS5FM=GS1.1.1662394944.7.1.1662395273.0.0.0; _ga_BNX5WPP3YK=GS1.1.1662394944.7.1.1662395273.60.0.0; __zzatgib-w-mvideo=MDA0dC0cTApcfEJcdGswPi17CT4VHThHKHIzd2VrPQ8kIW4nQENvdis/UVEjE21RIVQLX1QfOGBlbDotRyNaC3YNOEM8F3wvJWwbEgx7RxU5GjhrIV9NWiREVVRqJh8XeW4sUxAPXz1Ib2UlLS1SKRIaYg9HV0VnXkZzXWcQREBNR0JzeSs+biJhTl4oSVdJa2xSVTd+YhZCRBgvSzk9bnBhDysYIVQ1Xz9BYUpKPTdYH0t1MBI=TP2Hjw==; __zzatgib-w-mvideo=MDA0dC0cTApcfEJcdGswPi17CT4VHThHKHIzd2VrPQ8kIW4nQENvdis/UVEjE21RIVQLX1QfOGBlbDotRyNaC3YNOEM8F3wvJWwbEgx7RxU5GjhrIV9NWiREVVRqJh8XeW4sUxAPXz1Ib2UlLS1SKRIaYg9HV0VnXkZzXWcQREBNR0JzeSs+biJhTl4oSVdJa2xSVTd+YhZCRBgvSzk9bnBhDysYIVQ1Xz9BYUpKPTdYH0t1MBI=TP2Hjw==; cfidsgib-w-mvideo=Epj2y3m/bgvn7g7daU/L63YGm+cVAn9Nn2qAIy4iJ/iR1bQd2vD0tUnS9/cGj2z8kCYw2k/YGCAFJhtw71YcNgKvuvvSQ3pzskzzJIzutyl12ZhLHGBL1251ych6cElbYtjf12kxxiZCsSZaPoBUyHz+dO9lJLCpXFCewA==; cfidsgib-w-mvideo=Epj2y3m/bgvn7g7daU/L63YGm+cVAn9Nn2qAIy4iJ/iR1bQd2vD0tUnS9/cGj2z8kCYw2k/YGCAFJhtw71YcNgKvuvvSQ3pzskzzJIzutyl12ZhLHGBL1251ych6cElbYtjf12kxxiZCsSZaPoBUyHz+dO9lJLCpXFCewA==; fgsscgib-w-mvideo=9jQf407498a7fff82c2276cf9289963af03b4ea8; fgsscgib-w-mvideo=9jQf407498a7fff82c2276cf9289963af03b4ea8; CACHE_INDICATOR=false; MVID_CART_AVAILABILITY=true; MVID_MINDBOX_DYNAMICALLY=true; MVID_PROMO_CATALOG_ON=true; MVID_ENVCLOUD=prod1; cfidsgib-w-mvideo=t4dg49cGwBhjQx927feaaPggJDn0D7VdomRO44DUWAY74Wv87KsMJcI4pjEpDsnM9ELgQMSRgwD3BTNTanbWpY0Tf0swb0sLbsC08suTSgdxrUa9Qdl5hxwY+7b7fMFHbTCExv5bGYwLEuQ8HKr5UikFauUKTzBvlpWIEg==; tmr_reqNum=282',
    'pragma': 'no-cache',
    'referer': 'https://www.mvideo.ru/noutbuki-planshety-komputery-8/noutbuki-118',
    'sec-ch-ua': '"Google Chrome";v="105", "Not)A;Brand";v="8", "Chromium";v="105"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"Windows"',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-origin',
    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36',
    'x-set-application-id': 'db81f94b-36f3-4e1d-baa1-8e72071bdda6',
}

params = {
    'productIds': '30063388,30063385,30063680,30063389,30062325,30061223,30061113,30063455,30062106,30062868,30063860,30063387,30063386,30062055,30063862,30056685,30056686,30056687,30062056,30059533,30063187,30061244,30062804,30057478',
    'addBonusRubles': 'true',
    'isPromoApplied': 'true',
}

client = pymongo.MongoClient('localhost', 27017)
database = client['dan_mvideo']
collection = database['notebooks']

dan2 = requests.get('https://www.mvideo.ru/bff/products/prices', params=params, cookies=cookies, headers=headers).json()
dan = requests.post('https://www.mvideo.ru/bff/product-details/list', cookies=cookies, headers=headers, json=json_data).json()

d1 = {}
d2 = {}
# print('статус код: ', response.status_code)
for i in dan['body']['products']:  # названия моделей
    d1[i['productId']] = i['name']   # запись в словарь код товара + название
for i in dan2['body']['materialPrices']:   # цена товара
    if (i['price']['basePromoPrice']) == None:      # условие так как на некоторых товарах есть скидка
        d2[i['productId']] = i['price']['basePrice']
    else:
        d2[i['productId']] = i['price']['basePromoPrice']
spisok_product = {}
for key, value in d1.items():
    for key2, value2 in d2.items():
        if key == key2:     # сравниваем коды товара и выстраиваем по порядку
            spisok_product[value] = value2
        continue

result = collection.insert_one(spisok_product)
print(spisok_product)